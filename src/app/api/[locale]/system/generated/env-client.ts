/**
 * AUTO-GENERATED FILE - DO NOT EDIT
 * Generated by Env Generator
 *
 * command: vibe generate:env
 */

import { validateEnv } from "next-vibe/shared/utils/env-util";
import type { z } from "zod";

import { envValidationLogger } from "@/app/api/[locale]/system/unified-interface/shared/env/validation-logger";

// Import client env modules
import {
  envClient as env_envClient,
  envClientSchema as env_envClientSchema,
} from "../../../../../config/env-client";
import {
  contactClientEnv,
  contactClientEnvSchema,
} from "../../contact/env-client";
import {
  paymentClientEnv,
  paymentClientEnvSchema,
} from "../../payment/env-client";

// Platform detection (will be set at runtime)
const isServer = typeof window === "undefined";
const isReactNative = false;
const isBrowser =
  !isServer && typeof window !== "undefined" && !!window.document;

const platform = {
  isServer,
  isReactNative,
  isBrowser,
};

// Module registry for introspection
export const envClientModules = {
  env: { env: env_envClient, schema: env_envClientSchema },
  contact: { env: contactClientEnv, schema: contactClientEnvSchema },
  payment: { env: paymentClientEnv, schema: paymentClientEnvSchema },
} as const;

// Export platform for external use
export { platform };

// Combined client schema
export const envClientSchema = env_envClientSchema.merge(
  contactClientEnvSchema,
).merge(
  paymentClientEnvSchema,
);

export type EnvClient = z.infer<typeof envClientSchema>;

/**
 * Validate all client environment variables
 */
export function validateAllClientEnv(): EnvClient {
  return validateEnv(
    { ...process.env, platform },
    envClientSchema,
    envValidationLogger,
  );
}

/**
 * Validated client environment variables (singleton)
 */
export const envClient: EnvClient = validateAllClientEnv();

/**
 * Get list of all registered client env modules
 */
export function getEnvClientModuleNames(): (keyof typeof envClientModules)[] {
  return Object.keys(envClientModules) as (keyof typeof envClientModules)[];
}
