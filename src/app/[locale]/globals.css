@import "tailwindcss";

@plugin 'tailwindcss-animate';

/* @custom-variant dark (&:where(.dark, .dark *));
@custom-variant light (&:where(:not(.dark), :not(.dark) *)); */

/* @custom-variant light (&:where(html:not(.dark), html:not(.dark) *)); */

@custom-variant dark (&:where(html.dark, html.dark *));
@custom-variant light (&:where(html:not(.dark), html:not(.dark) *));

@theme {
  /* Tailwind v4 uses color-mix() automatically for opacity modifiers */
  /* IMPORTANT: Expose final color values directly (no nested hsl(var(...)))
     so production minifiers don't mangle color-mix() with custom properties. */
  --color-background: hsl(var(--background));
  --color-foreground: var(--foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: var(--ring);

  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  --color-sidebar: var(--sidebar-background);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@layer utilities {
  body {
    font-family: Arial, Helvetica, sans-serif;
  }

  /* Ensure dropdown items are interactive */
  [data-radix-select-item]:not([data-disabled]) {
    pointer-events: auto;
    cursor: pointer;
  }

  [cmdk-item]:not([data-disabled]) {
    pointer-events: auto;
    cursor: pointer;
  }

  /* Fallback for gradient text when bg-clip-text fails */
  @supports not (-webkit-background-clip: text) {
    .bg-gradient-to-r.from-cyan-500.to-blue-600.text-transparent.bg-clip-text {
      color: #2563eb !important;
      background: none !important;
      -webkit-text-fill-color: unset !important;
    }

    .bg-gradient-to-r.from-red-600.to-orange-600.text-transparent.bg-clip-text {
      color: #dc2626 !important;
      background: none !important;
      -webkit-text-fill-color: unset !important;
    }

    .bg-gradient-to-r.from-blue-600.to-cyan-600.text-transparent.bg-clip-text {
      color: #2563eb !important;
      background: none !important;
      -webkit-text-fill-color: unset !important;
    }
  }

  /* Additional fallback for when gradients don't render at all on Apple devices */
  @media screen and (-webkit-min-device-pixel-ratio: 0) {
    .bg-gradient-to-r.from-cyan-500.to-blue-600.text-transparent.bg-clip-text {
      background: linear-gradient(to right, #06b6d4, #2563eb) !important;
      -webkit-background-clip: text !important;
      background-clip: text !important;
      -webkit-text-fill-color: transparent !important;
    }

    .bg-gradient-to-r.from-red-600.to-orange-600.text-transparent.bg-clip-text {
      background: linear-gradient(to right, #dc2626, #ea580c) !important;
      -webkit-background-clip: text !important;
      background-clip: text !important;
      -webkit-text-fill-color: transparent !important;
    }

    .bg-gradient-to-r.from-blue-600.to-cyan-600.text-transparent.bg-clip-text {
      background: linear-gradient(to right, #2563eb, #0891b2) !important;
      -webkit-background-clip: text !important;
      background-clip: text !important;
      -webkit-text-fill-color: transparent !important;
    }

    /* Stronger fallback for button gradients on Apple devices */
    .bg-gradient-to-r.from-cyan-500.to-blue-600:not(.text-transparent) {
      background: #2563eb !important;
      background-image: linear-gradient(to right, #06b6d4, #2563eb) !important;
    }

    .bg-gradient-to-r.from-cyan-500.to-blue-600:not(.text-transparent):hover {
      background: #1d4ed8 !important;
      background-image: linear-gradient(to right, #0891b2, #1d4ed8) !important;
    }
  }

  /* Emergency fallback for invisible buttons on Apple devices */
  @supports not (background: linear-gradient(to right, #06b6d4, #2563eb)) {
    .bg-gradient-to-r.from-cyan-500.to-blue-600:not(.text-transparent) {
      background-color: #2563eb !important;
      background-image: none !important;
    }

    .bg-gradient-to-r.from-cyan-500.to-blue-600:not(.text-transparent):hover {
      background-color: #1d4ed8 !important;
      background-image: none !important;
    }
  }

  /* Fallbacks for older Chrome border colors */
  @supports not (border-color: hsl(var(--border))) {
    * {
      border-color: #e2e8f0 !important;
    }

    .dark * {
      border-color: #1e293b !important;
    }

    .border-gray-200 {
      border-color: #e5e7eb !important;
    }

    .border-gray-300 {
      border-color: #d1d5db !important;
    }

    .border-blue-200 {
      border-color: #dbeafe !important;
    }

    .border-blue-300 {
      border-color: #93c5fd !important;
    }

    .dark .border-gray-700 {
      border-color: #374151 !important;
    }

    .dark .border-gray-800 {
      border-color: #1f2937 !important;
    }

    /* Input and form element borders */
    input,
    textarea,
    select {
      border-color: #d1d5db !important;
    }

    .dark input,
    .dark textarea,
    .dark select {
      border-color: #374151 !important;
    }

    /* Button borders */
    button {
      border-color: transparent !important;
    }

    /* Card and container borders */
    .border {
      border-color: #e2e8f0 !important;
    }

    .dark .border {
      border-color: #1e293b !important;
    }
  }

  /* Additional fallback for very old Chrome versions */
  @media screen and (-webkit-min-device-pixel-ratio: 0) {
    @supports not (color: hsl(0 0% 0%)) {
      :root {
        --background: #ffffff;
        --foreground: #0f172a;
        --border: #e2e8f0;
        --input: #e2e8f0;
        --ring: #0f172a;
        --primary: #1e293b;
        --primary-foreground: #f8fafc;
      }

      .dark {
        --background: #c6317c;
        --foreground: #f8fafc;
        --border: #1e293b;
        --input: #c6317c;
        --ring: #cbd5e1;
        --primary: #f8fafc;
        --primary-foreground: #1e293b;
      }
    }
  }
}

@layer base {
  :root {
    /* Fallbacks for older browsers */
    --background: #dbeafe;
    --foreground: #0f172a;
    --card: #dbeafe;
    --card-foreground: #0f172a;
    --popover: #dbeafe;
    --popover-foreground: #0f172a;
    --primary: #3b82f6;
    --primary-foreground: #f8fafc;
    --secondary: #f1f5f9;
    --secondary-foreground: #1e293b;
    --muted: #f1f5f9;
    --muted-foreground: #64748b;
    --accent: #f1f5f9;
    --accent-foreground: #1e293b;
    --destructive: #ef4444;
    --destructive-foreground: #f8fafc;
    --border: #bfdbfe;
    --input: #bfdbfe;
    --ring: #3b82f6;

    /* Modern HSL values for newer browsers */
    --background: 214 100% 97%;
    --foreground: 240 10% 3.9%;
    --card: 214 100% 97%;
    --card-foreground: 240 10% 3.9%;
    --popover: 214 100% 97%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 214 95% 87%;
    --input: 214 95% 87%;
    --ring: 217 91% 60%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    /* Fallbacks for older browsers */
    --background: #0a0d12;
    --foreground: #f8fafc;
    --card: #0a0d12;
    --card-foreground: #f8fafc;
    --popover: #0a0d12;
    --popover-foreground: #f8fafc;
    --primary: #3b82f6;
    --primary-foreground: #f8fafc;
    --secondary: #1e293b;
    --secondary-foreground: #f8fafc;
    --muted: #1e293b;
    --muted-foreground: #94a3b8;
    --accent: #1e293b;
    --accent-foreground: #f8fafc;
    --destructive: #dc2626;
    --destructive-foreground: #f8fafc;
    --border: #1e293b;
    --input: #1e293b;
    --ring: #3b82f6;

    /* Modern HSL values for newer browsers */
    --background: 220 15% 5%;
    --foreground: 0 0% 98%;
    --card: 220 15% 5%;
    --card-foreground: 0 0% 98%;
    --popover: 220 15% 5%;
    --popover-foreground: 0 0% 98%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 217 91% 60%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }

  .container {
    @apply mx-auto px-4 md:px-6;
  }

  /* Fix for cut-off bottoms of letters */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply leading-tight tracking-tight;
  }

  p {
    @apply leading-relaxed;
  }
}

html {
  scroll-behavior: smooth;
  scroll-padding-top: 4rem;
  /* Default for smaller screens (64px) */
}

@media (min-width: 768px) {

  /* Tailwind's md breakpoint */
  html {
    scroll-padding-top: 5rem;
    /* For md and above (80px) */
  }
}

/* Additional typography improvements */
.text-balance {
  text-wrap: balance;
}

/* Fix for button text alignment */
button,
.button {
  line-height: 1.5;
}

/* Improve form elements */
input,
select,
textarea {
  line-height: 1.5;
}

.container {
  margin: 0 auto;
}